<!DOCTYPE html>
<html lang="en" data-layout-mode="detached" data-topbar-color="dark" data-menu-color="light" data-sidenav-user="true" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    <th:block th:replace="fragments/common/header :: headerFragment"></th:block>
    <body>
    <div class="wrapper">
        <th:block th:replace="fragments/common/topbar :: topbarFragment"></th:block>
        <th:block th:replace="fragments/common/sidebar1 :: sidebar1Fragment"></th:block>
        <div class="content-page">
            <th:block th:replace="fragments/content/subject/add_content :: addContentFragment"></th:block>
            <th:block th:replace="fragments/common/footer :: footerFragment"></th:block>
        </div>

        <th:block th:replace="fragments/common/script :: scriptFragment"></th:block>
    </div>
    </body>
    <script type="text/javascript">
        const btn_submit = document.getElementById("btn_submit");
        
        btn_submit.addEventListener("click", () => {
            var subjectName = document.getElementById("subjectName").value;
            $.ajax({
                type: "POST",
                url: "/subjects",
                data: {
                    "subjectName": subjectName,
                },
                success: function(data) {
                    alert("등록이 완료되었습니다");
                    location.href = "/subjects";
                },
                error: function(error) {
                    console.log(subjectName);
                    alert("등록 실패: " + JSON.stringify(error.responseJSON));
                },
            });
        });

    </script>
</html>